# **SynthScript: Synthetic OCR Data Generator**

**SynthScript** is a comprehensive, command-line tool designed to automate the creation of high-quality, synthetic datasets for training Optical Character Recognition (OCR) models. It transforms raw text from a corpus into a diverse, augmented, and ready-to-use dataset, significantly reducing the need for manual data collection and annotation.

## **Key Features**

* **Fully Configurable:** The `config.yaml` file provides granular control over the entire generation pipeline.  
* **Dynamic Background Sizing:** Crops or tiles backgrounds to perfectly match the text dimensions, preventing image distortion.  
* **Context-Aware Text Sampling:** Generates text snippets by selecting adjacent words from the corpus to maintain semantic context.  
* **Rich Augmentation Pipeline:** Applies a chain of realistic, randomized augmentations to simulate real-world conditions:  
  * Perspective Warping  
  * Horizontal Tilt (Shear)  
  * Gaussian Blur  
  * Salt-and-Pepper Noise  
  * Brightness & Contrast Jitter  
* **Customizable Text Rendering:** Easily control font types, font sizes, padding, and text colors with randomized ranges.  

## Examples

Here are a few examples of images generated by SynthScript, showcasing different augmentations.

| Clean & Simple | Warped & Tilted | Noisy & Blurred |
| :---: | :---: | :---: |
| ![Clean Example](./examples/normal.png) | ![Warped Example](./examples/tilted.png) | ![Noisy Example](./examples/noisy.png) |

## **Installation & Setup**

Follow these steps to set up the SynthScript environment.

### **1\. Project Setup**

**Clone the repository:**  
git clone https://your-repository-url/SynthScript.git \--depth=1  
cd SynthScript

*Use Python virtual environment (recommended)*  

**Install Python packages:**  
python \-m pip install \-r requirements.txt

### **2\. Prepare Assets**

Before running the script, you must populate the asset folders:

* **/corpus/**: Place your text files (.txt) here.  
* **/backgrounds/**: Place your background images (.png, .jpg) here.  
* **/fonts/**: Place your font files (.ttf, .otf) here.

*To use custom asset locations, simply edit the directory paths in `config.yaml`*

## **Usage**

1. **Edit config.yaml**: Open the configuration file and adjust the parameters to fit your desired dataset specifications.  
2. **Run the Generator**: Execute the main script from your terminal.

python main.py

The script will ask you to confirm the number of images to generate, and wait for your final confirmation before starting the process.

## **Configuration**

All pipeline parameters are controlled via config.yaml.

| Section | Parameter | Description |
| :---- | :---- | :---- |
| **paths** | corpus\_dir, fonts\_dir, etc. | Specifies the locations of your asset and output folders. |
| **dataset** | num\_images | The total number of images to generate. |
|  | word\_count\_range | The \[min, max\] range for the number of words per image. |
| **text** | font\_size\_range | The \[min, max\] range for the font size in points. |
|  | padding | Sets the pixel padding on all four sides of the text. |
|  | color | Enables and configures randomized RGB text colors. |
| **augmentations** | warp, tilt, blur, etc. | Each augmentation has an enabled flag and parameters to control its intensity and behavior. |

## **Output Structure**

All generated files will be placed in the folder specified by output\_dir in your config.  
output/  
├── images/  
│   ├── image\_00001.png  
│   ├── image\_00002.png  
│   └── ...  
└── labels.csv

#### **labels.csv File**

This is the master file that indexes your entire dataset.

| Column | Description |
| :---- | :---- |
| filename | The unique filename of the image in the images folder. |
| text | The corresponding ground-truth text for that image. |

## **License**

This project is licensed under the MIT License \- see the LICENSE file for details.